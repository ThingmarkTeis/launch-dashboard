<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launch Dashboard</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(45deg, #0a0e1a, #1e3a8a); 
            color: white; margin: 0; padding: 20px; min-height: 100vh;
        }
        .header { 
            display: flex; justify-content: space-between; align-items: center; 
            margin-bottom: 30px; padding-bottom: 20px; 
            border-bottom: 2px solid rgba(59, 130, 246, 0.3);
        }
        .nav { display: flex; gap: 15px; align-items: center; }
        .nav a { 
            color: #60a5fa; text-decoration: none; padding: 10px 20px; 
            border-radius: 6px; transition: all 0.3s; font-weight: 500;
        }
        .nav a:hover, .nav a.active { 
            background: rgba(96, 165, 250, 0.2); 
            transform: translateY(-1px);
        }
        .user-info { 
            background: rgba(59, 130, 246, 0.2); padding: 8px 16px; 
            border-radius: 20px; font-size: 14px; margin-right: 15px;
        }
        .logout-btn { 
            padding: 10px 20px; background: linear-gradient(45deg, #dc2626, #b91c1c); 
            color: white; border: none; border-radius: 6px; cursor: pointer;
            font-weight: 600; transition: all 0.3s;
        }
        .logout-btn:hover { transform: translateY(-1px); }
        .countdown { 
            background: linear-gradient(45deg, #dc2626, #b91c1c); 
            padding: 20px; text-align: center; 
            font-size: 22px; font-weight: bold; margin-bottom: 30px;
            border-radius: 10px; box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
        }
        .grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 25px; max-width: 1400px; margin: 0 auto;
        }
        .card { 
            background: rgba(30, 41, 59, 0.9); padding: 25px; 
            border-radius: 12px; border-left: 5px solid #3b82f6;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }
        .card:hover { transform: translateY(-3px); }
        .card h3 { 
            color: #60a5fa; margin-bottom: 20px; 
            font-size: 18px; display: flex; align-items: center; gap: 8px;
        }
        .metric { 
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .metric:last-child { border-bottom: none; }
        .metric-label { font-weight: 500; }
        .status { 
            padding: 6px 12px; border-radius: 15px; 
            font-size: 12px; font-weight: bold;
        }
        .success { background: #10b981; color: white; }
        .warning { background: #f59e0b; color: black; }
        .critical { background: #dc2626; color: white; }
        .new { background: #8b5cf6; color: white; }
        .blocker { 
            background: rgba(220, 38, 38, 0.15); padding: 15px; 
            border-radius: 8px; margin: 10px 0;
            border-left: 4px solid #dc2626;
        }
        .blocker strong { display: block; margin-bottom: 5px; }
        .blocker small { color: #fca5a5; }
        .welcome { 
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2)); 
            padding: 25px; border-radius: 12px; margin-bottom: 25px; text-align: center;
            border: 2px solid rgba(59, 130, 246, 0.3);
        }
        .stats-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); 
            gap: 15px; margin-top: 15px;
        }
        .stat-item { 
            text-align: center; padding: 15px; 
            background: rgba(55, 65, 81, 0.5); border-radius: 8px;
        }
        .stat-number { 
            font-size: 24px; font-weight: bold; 
            color: #60a5fa; margin-bottom: 5px;
        }
        .stat-label { font-size: 12px; color: #94a3b8; }
    </style>
</head>
<body>
    <div class="header">
        <div>
            <h1>ğŸš€ The Testosterone Protocol</h1>
            <p style="color: #94a3b8; margin: 5px 0;">Launch Command Center</p>
        </div>
        <div class="nav">
            <span class="user-info">ğŸ‘¤ <span id="username">User</span></span>
            <a href="dashboard.html" class="active">ğŸ“Š Dashboard</a>
            <a href="files.html">ğŸ“ Files</a>
            <a href="#" onclick="showAgents()">ğŸ‘¥ Agents</a>
            <button class="logout-btn" onclick="logout()">ğŸšª Logout</button>
        </div>
    </div>
    
    <div class="welcome">
        <h3>âœ… Secure Access Granted</h3>
        <p>Welcome to the launch dashboard. Authentication successful.</p>
        <div id="sessionInfo" style="font-size: 12px; color: #94a3b8; margin-top: 10px;"></div>
    </div>
    
    <div class="countdown">
        â° LAUNCH DAY: March 20, 2026 | ğŸ”¥ <span id="daysRemaining">30</span> DAYS REMAINING
    </div>
    
    <div class="grid">
        <div class="card">
            <h3>ğŸ¯ Mission Critical Status</h3>
            <div class="metric">
                <span class="metric-label">ğŸ“ Manuscript</span>
                <span class="status success">100% âœ…</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ¨ Cover Design</span>
                <span class="status warning">75% ğŸ”„</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ“¢ Marketing Materials</span>
                <span class="status critical">30% ğŸ”´</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ¯ Pre-orders</span>
                <span class="status warning">2,847/5,000</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ“ Media Outreach</span>
                <span class="status warning">23/50 outlets</span>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸš¨ Active Blockers</h3>
            <div class="blocker">
                <strong>ğŸ¨ Cover Design Delays</strong>
                <small>Author feedback pending for 3 days - Marketing materials on hold</small>
            </div>
            <div class="blocker">
                <strong>ğŸ“‹ Media Kit Incomplete</strong>
                <small>Missing author bio and photos - PR outreach stalled</small>
            </div>
            <div class="blocker">
                <strong>ğŸ“š Amazon KDP Setup</strong>
                <small>Verification pending - May delay pre-orders</small>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸ‘¥ Agent Teams Status</h3>
            <div class="metric">
                <span class="metric-label">ğŸ“ Editorial Team (5)</span>
                <span class="status success">ğŸŸ¢ Active</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ¨ Design Team (5)</span>
                <span class="status warning">ğŸŸ¡ Busy</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ“¢ Marketing Team (8)</span>
                <span class="status critical">ğŸ”´ Overloaded</span>
            </div>
            <div class="metric">
                <span class="metric-label">âš™ï¸ Operations Team (4)</span>
                <span class="status success">ğŸŸ¢ Optimal</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ’° Revenue Team (4)</span>
                <span class="status success">ğŸŸ¢ Ready</span>
            </div>
            <div class="metric">
                <span class="metric-label">ğŸ” Cover Research Bot</span>
                <span class="status new">âœ¨ NEW</span>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸ“ˆ Performance Metrics</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">+127</div>
                    <div class="stat-label">Pre-orders Today</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">342</div>
                    <div class="stat-label">Social Mentions</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">2.3k</div>
                    <div class="stat-label">Website Visits</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">89</div>
                    <div class="stat-label">Email Signups</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸ¯ Next Actions (48 Hours)</h3>
            <div class="metric">
                <span style="color: #dc2626;">ğŸ”¥ Cover Approval Needed</span>
                <span class="status critical">URGENT</span>
            </div>
            <div class="metric">
                <span style="color: #f59e0b;">âš¡ Complete Media Kit</span>
                <span class="status warning">HIGH</span>
            </div>
            <div class="metric">
                <span style="color: #10b981;">âœ… Email Sequence #2</span>
                <span class="status success">READY</span>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸ“ Recent Deliverables</h3>
            <div class="metric">
                <span>ğŸ¨ Book Cover Designs (4x)</span>
                <span style="color: #94a3b8; font-size: 12px;">Feb 18, 00:36</span>
            </div>
            <div class="metric">
                <span>ğŸ“Š Back Cover Copy</span>
                <span style="color: #94a3b8; font-size: 12px;">Feb 17</span>
            </div>
            <div class="metric">
                <span>ğŸ“– Final Chapter Outline</span>
                <span style="color: #94a3b8; font-size: 12px;">Feb 17</span>
            </div>
            <div class="metric">
                <span>ğŸ“§ Email Sequence #1</span>
                <span style="color: #94a3b8; font-size: 12px;">Feb 17</span>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <a href="files.html" style="color: #60a5fa; text-decoration: none; font-weight: 500;">
                    ğŸ“‚ View All Files â†’
                </a>
            </div>
        </div>
    </div>

    <script>
        // Enhanced authentication check
        function checkAuth() {
            const authToken = sessionStorage.getItem('auth_token');
            const sessionValid = sessionStorage.getItem('session_valid');
            const loginTime = sessionStorage.getItem('login_time');
            const userId = sessionStorage.getItem('user_id');
            
            if (sessionValid !== 'true' || !authToken || !loginTime || !userId) {
                alert('ğŸš« Authentication required. Redirecting to login...');
                window.location.href = 'index.html';
                return false;
            }
            
            // Check session timeout (8 hours)
            const timeElapsed = Date.now() - parseInt(loginTime);
            const maxSessionTime = 8 * 60 * 60 * 1000;
            
            if (timeElapsed > maxSessionTime) {
                alert('â° Session expired. Please login again.');
                sessionStorage.clear();
                window.location.href = 'index.html';
                return false;
            }
            
            // Update UI with user info
            document.getElementById('username').textContent = userId.charAt(0).toUpperCase() + userId.slice(1);
            
            const sessionInfo = document.getElementById('sessionInfo');
            const hoursLeft = Math.floor((maxSessionTime - timeElapsed) / (1000 * 60 * 60));
            sessionInfo.textContent = `Session expires in ${hoursLeft} hours | Token: ${authToken.substring(0, 12)}...`;
            
            return true;
        }
        
        function logout() {
            const confirmed = confirm('ğŸšª Are you sure you want to logout?');
            if (confirmed) {
                sessionStorage.clear();
                alert('âœ… Logged out successfully!');
                window.location.href = 'index.html';
            }
        }
        
        function showAgents() {
            alert('ğŸ‘¥ Agents Page\n\n32 agents active across 6 teams:\n\nğŸ“ Editorial: 5 agents\nğŸ¨ Design: 5 agents  \nğŸ“¢ Marketing: 8 agents\nâš™ï¸ Operations: 4 agents\nğŸ’° Revenue: 4 agents\nğŸ” Research: 1 agent\n\nDetailed agent page coming soon!');
        }
        
        // Update countdown
        function updateCountdown() {
            const launchDate = new Date('2026-03-20T00:00:00Z');
            const now = new Date();
            const daysLeft = Math.ceil((launchDate - now) / (1000 * 60 * 60 * 24));
            document.getElementById('daysRemaining').textContent = daysLeft;
        }
        
        // Initialize
        if (checkAuth()) {
            updateCountdown();
            setInterval(updateCountdown, 60000); // Update every minute
        }
        
        // Auto-refresh data every 5 minutes
        setInterval(() => {
            console.log('ğŸ”„ Dashboard data refreshed');
        }, 5 * 60 * 1000);
    </script>
</body>
</html>